<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.mdzza.api.dao.ApiInfoDao">

	<select id="get" resultType="cn.mdzza.api.entity.ApiInfo">
		select *
		from api_info
		where module=#{module}
			and resource=#{resource}
			and method=#{method}
		limit 1
	</select>

	<insert id="add" useGeneratedKeys="true" keyProperty="id">
		insert into api_info (
			name,
			module,
			resource,
			method,
			invoke_method,
			description,
			create_user_id,
			create_datetime,
			last_change_user_id,
			last_change_datetime
		) values (
			  #{name},
			  #{module},
			  #{resource},
			  #{method},
			  #{invokeMethod},
			  #{description},
			  #{createUserId},
			  #{createDatetime},
			  #{lastChangeUserId},
			  #{lastChangeDatetime}
		)
	</insert>
</mapper>